{"version":3,"file":"static/js/104.752b16eb.chunk.js","mappings":"sOAQA,MA4EA,EA5EcA,KAAO,IAADC,EAClB,MAAM,MAAEC,IAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GACvBC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAqB,OAARF,QAAQ,IAARA,GAAe,QAAPN,EAARM,EAAUG,aAAK,IAAAT,OAAP,EAARA,EAAiBU,aAAc,KAE3CC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,KAC1BC,EAAMC,IAAWF,EAAAA,EAAAA,UAAS,KAE1BG,EAAQC,IAAaJ,EAAAA,EAAAA,UAAS,CACnCK,SAAS,EACTC,MAAM,EACNC,IAAI,EACJC,QAAS,KA+BX,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAW,CAAAC,UACVC,EAAAA,EAAAA,MAAA,QAAMC,SA9BeC,IACvBA,EAAEC,iBAEFX,GAAWY,IAAI,IAAWA,EAAMX,SAAS,MAEzCjB,EAAM,CAAEU,OAAMG,SAAQgB,MAAMC,GAC1BA,EAAKX,GACDhB,EAASI,GACTS,GAAWY,IAAI,IACVA,EACHX,SAAS,EACTE,IAAI,EACJD,MAAM,EACNE,QAASU,EAAKV,aAErB,EAekCW,UAAU,2BAA0BR,SAAA,EACnEF,EAAAA,EAAAA,KAAA,SAAAE,UACEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAEVF,EAAAA,EAAAA,KAAA,SACEW,KAAK,OACLC,MAAOvB,EACPwB,SAAWR,IAAMS,OAnBIF,EAmBgBP,EAAEU,OAAOH,MAlBpDjB,GAAWY,IAAI,IAAWA,EAAMV,MAAM,WACtCP,EAAQsB,GAFmBA,KAmBgC,KAGvDZ,EAAAA,EAAAA,KAAA,SAAAE,UACEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAEVF,EAAAA,EAAAA,KAAA,SACEW,KAAK,WACLC,MAAOpB,EACPqB,SAAWR,IAAMW,OAvBIJ,EAuBgBP,EAAEU,OAAOH,MAtBpDjB,GAAWY,IAAI,IAAWA,EAAMV,MAAM,WACtCJ,EAAQmB,GAFmBA,KAuBgC,EACrDK,aAAa,SAGfjB,EAAAA,EAAAA,KAACkB,EAAAA,EAAS,CAACP,KAAK,SAASQ,QAAQ,mBAAkBjB,SAChDR,EAAOE,SAAUI,EAAAA,EAAAA,KAACoB,EAAAA,EAAO,IAAM,UAGjC1B,EAAOG,OAAQG,EAAAA,EAAAA,KAACqB,EAAAA,EAAW,CAACvB,GAAIJ,EAAOI,GAAIC,QAASL,EAAOK,cAElD,C,+CChFlB,MAKA,EALoBuB,IAAsB,IAArB,GAAExB,EAAE,QAAEC,GAASuB,EAClC,MAAMC,EAAYzB,EAAK,OAAS,SAChC,OAAOE,EAAAA,EAAAA,KAAA,OAAKU,UAAS,eAAAc,OAAiBD,GAAYrB,SAAEH,GAAc,C,yDCApE,MAAM0B,EAAiBC,GACR,OAAbA,EAAoB,OAAsB,OAAbA,EAAoB,OAAS,QAY5D,EAVoBJ,IAAmB,IAAlB,SAAEpB,GAAUoB,EAC/B,MAAMI,GAAWC,EAAAA,EAAAA,KAEjB,OACE3B,EAAAA,EAAAA,KAAA,OAAKU,UAAS,kBAAAc,OAAoBC,EAAcC,IAAYxB,SACzDA,GACG,C","sources":["components/pages/Login.js","components/utils/AlertStatus.js","components/utils/AuthWrapper.js"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport AlertStatus from \"../utils/AlertStatus\";\nimport AuthContext from \"../../contexts/AuthContext\";\nimport Loading from \"../utils/Loading\";\nimport AuthWrapper from \"../utils/AuthWrapper\";\nimport AppButton from \"../utils/AppButton\";\n\nconst Login = () => {\n  const { login } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const redirectTo = location?.state?.replaceUrl || \"/\"\n\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n\n  const [status, setStatus] = useState({\n    loading: false,\n    done: false,\n    ok: false,\n    message: \"\",\n  });\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n\n    setStatus((prev) => ({ ...prev, loading: true }));\n\n    login({ user, pass }).then((resp) =>\n      resp.ok\n        ? navigate(redirectTo)\n        : setStatus((prev) => ({\n            ...prev,\n            loading: false,\n            ok: false,\n            done: true,\n            message: resp.message,\n          }))\n    );\n  };\n\n  const onUserChangeHandler = (value) => {\n    setStatus((prev) => ({ ...prev, done: false }));\n    setUser(value);\n  };\n\n  const onPassChangeHandler = (value) => {\n    setStatus((prev) => ({ ...prev, done: false }));\n    setPass(value);\n  };\n\n  return (\n    <AuthWrapper>\n      <form onSubmit={onSubmitHandler} className=\"d-flex flex-column gap-1\">\n        <label>\n          <strong>User Id</strong>\n        </label>\n        <input\n          type=\"text\"\n          value={user}\n          onChange={(e) => onUserChangeHandler(e.target.value)}\n        />\n\n        <label>\n          <strong>Password</strong>\n        </label>\n        <input\n          type=\"password\"\n          value={pass}\n          onChange={(e) => onPassChangeHandler(e.target.value)}\n          autoComplete=\"off\"\n        />\n\n        <AppButton type=\"submit\" classes=\"btn-primary my-2\">\n          {status.loading ? <Loading /> : \"Login\"}\n        </AppButton>\n\n        {status.done && <AlertStatus ok={status.ok} message={status.message} />}\n      </form>\n    </AuthWrapper>\n  );\n};\n\nexport default Login;\n","const AlertStatus = ({ ok, message }) => {\n  const alertType = ok ? \"info\" : \"danger\";\n  return <div className={`alert alert-${alertType}`}>{message}</div>;\n};\n\nexport default AlertStatus;\n","import useViewport from \"../../hooks/useViewport\";\n\nconst getWidthClass = (viewport) =>\n  viewport === \"lg\" ? \"w-25\" : viewport === \"md\" ? \"w-50\" : \"w-100\";\n\nconst AuthWrapper = ({ children }) => {\n  const viewport = useViewport();\n\n  return (\n    <div className={`container py-4 ${getWidthClass(viewport)}`}>\n      {children}\n    </div>\n  );\n};\n\nexport default AuthWrapper;\n"],"names":["Login","_location$state","login","useContext","AuthContext","navigate","useNavigate","location","useLocation","redirectTo","state","replaceUrl","user","setUser","useState","pass","setPass","status","setStatus","loading","done","ok","message","_jsx","AuthWrapper","children","_jsxs","onSubmit","e","preventDefault","prev","then","resp","className","type","value","onChange","onUserChangeHandler","target","onPassChangeHandler","autoComplete","AppButton","classes","Loading","AlertStatus","_ref","alertType","concat","getWidthClass","viewport","useViewport"],"sourceRoot":""}