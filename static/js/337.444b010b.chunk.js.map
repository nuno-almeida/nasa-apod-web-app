{"version":3,"file":"static/js/337.444b010b.chunk.js","mappings":"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","sources":["components/pages/Register.js","components/utils/AlertStatus.js","components/utils/AuthWrapper.js"],"sourcesContent":["import { useContext, useReducer, useState } from \"react\";\nimport AlertStatus from \"../utils/AlertStatus\";\nimport AuthContext from \"../../contexts/AuthContext\";\nimport Loading from \"../utils/Loading\";\nimport AuthWrapper from \"../utils/AuthWrapper\";\nimport AppButton from \"../utils/AppButton\";\n\nconst initialState = {\n  pending: false,\n  ok: true,\n  message: \"\",\n  done: false,\n};\n\nconst reducer = (state, action) => {\n  const { type } = action;\n\n  if (type === \"PENDING\") {\n    return {\n      ...state,\n      pending: true,\n    };\n  }\n\n  if (type === \"FULFILLED\") {\n    const { message } = action.payload;\n\n    return {\n      ...state,\n      pending: false,\n      ok: true,\n      message,\n      done: true,\n    };\n  }\n\n  if (type === \"REJECTED\") {\n    const { message } = action.payload;\n\n    return {\n      ...state,\n      pending: false,\n      ok: false,\n      message,\n      done: true,\n    };\n  }\n\n  return state;\n};\n\nconst Register = () => {\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [confirmPass, setConfirmPass] = useState(\"\");\n\n  const [invalidUser, setInvalidUser] = useState(false);\n  const [invalidPass, setInvalidPass] = useState(false);\n  const [invalidConfirmPass, setInvalidConfirmPass] = useState(false);\n\n  const { register } = useContext(AuthContext);\n\n  const [state, dispacth] = useReducer(reducer, initialState);\n  const { pending, ok, message, done } = state;\n\n  const onSubmitHandler = (e) => {\n    e.preventDefault();\n\n    if (user.length < 3) {\n      setInvalidUser(true);\n    } else if (pass.length < 6) {\n      setInvalidPass(true);\n    } else if (pass !== confirmPass) {\n      setInvalidConfirmPass(true);\n    } else {\n      dispacth({ type: \"PENDING\" });\n\n      register({ user, pass })\n        .then(() => {\n          dispacth({\n            type: \"FULFILLED\",\n            payload: { message: \"User registration succeeded\" },\n          });\n        })\n        .catch(() => {\n          dispacth({\n            type: \"REJECTED\",\n            payload: { message: \"User registration failed\" },\n          });\n        });\n    }\n  };\n\n  return (\n    <AuthWrapper>\n      <form onSubmit={onSubmitHandler} className=\"d-flex flex-column gap-1\">\n        <label>\n          <strong>User Id</strong>\n        </label>\n        <input\n          type=\"text\"\n          value={user}\n          onChange={(e) => {\n            setInvalidUser(false);\n            setUser(e.target.value);\n          }}\n        />\n        {invalidUser && (\n          <p className=\"text-danger small\">\n            User Id should have at least 3 characters\n          </p>\n        )}\n\n        <label>\n          <strong>Password</strong>\n        </label>\n        <input\n          type=\"password\"\n          value={pass}\n          autoComplete=\"off\"\n          onChange={(e) => {\n            setInvalidPass(false);\n            setPass(e.target.value);\n          }}\n        />\n        {invalidPass && (\n          <p className=\"text-danger small\">\n            Password should have at least 6 characters\n          </p>\n        )}\n\n        <label>\n          <strong>Confirm Password</strong>\n        </label>\n        <input\n          type=\"password\"\n          value={confirmPass}\n          autoComplete=\"off\"\n          onChange={(e) => {\n            setInvalidConfirmPass(false);\n            setConfirmPass(e.target.value);\n          }}\n        />\n        {invalidConfirmPass && (\n          <p className=\"text-danger small\">Passwords not match</p>\n        )}\n\n        <AppButton\n          type=\"submit\"\n          classes=\"btn-primary my-2\"\n          disabled={pending || (done && ok)}\n        >\n          {pending ? <Loading /> : \"Register\"}\n        </AppButton>\n        {done && <AlertStatus ok={ok} message={message} />}\n      </form>\n    </AuthWrapper>\n  );\n};\n\nexport default Register;\n","const AlertStatus = ({ ok, message }) => {\n  const alertType = ok ? \"info\" : \"danger\";\n  return <div className={`alert alert-${alertType}`}>{message}</div>;\n};\n\nexport default AlertStatus;\n","import useViewport from \"../../hooks/useViewport\";\n\nconst getWidthClass = (viewport) =>\n  viewport === \"lg\" ? \"w-25\" : viewport === \"md\" ? \"w-50\" : \"w-100\";\n\nconst AuthWrapper = ({ children }) => {\n  const viewport = useViewport();\n\n  return (\n    <div className={`container py-4 ${getWidthClass(viewport)}`}>\n      {children}\n    </div>\n  );\n};\n\nexport default AuthWrapper;\n"],"names":["initialState","pending","ok","message","done","reducer","state","action","type","payload","Register","user","setUser","useState","pass","setPass","confirmPass","setConfirmPass","invalidUser","setInvalidUser","invalidPass","setInvalidPass","invalidConfirmPass","setInvalidConfirmPass","register","useContext","AuthContext","dispacth","useReducer","_jsx","AuthWrapper","children","_jsxs","onSubmit","e","preventDefault","length","then","catch","className","value","onChange","target","autoComplete","AppButton","classes","disabled","Loading","AlertStatus","_ref","alertType","concat","getWidthClass","viewport","useViewport"],"sourceRoot":""}